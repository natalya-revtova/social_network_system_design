# System Design - Социальная сеть для путешественников

## Функциональные требования
- Создание аккаунта с ФИО, фото и небольшим описанием.
- Публикация постов из путешествий с фотографиями, небольшим описанием и привязкой к конкретному месту путешествия.
- Оценка и комментарии постов других путешественников.
- Подписка на других путешественников, чтобы следить за их активностью.
- Поиск популярных мест для путешествий и просмотр постов с этих мест в виде ТОПа мест по странам и городам.
- Общение с другими путешественниками в личных сообщениях.
- Просматр ленты других путешественников.

## Нефункциональные требования
- DAU 10 000 000.

- Доступность 99,95%.

- Запуск только на территории СНГ.

- Ограничения
    - Аккаунт:
        - Максимальное количество фотографий в аккаунте - 1.
        - Максимальное количество символов в поле ФИО - 80.
        - Максимальное количество символов в описании аккаунта - 200.
    - Пост:
        - Максимальное количество фотографий в посте - 10.
        - Максимальное количество символов в описании поста - 2000.
    - Комментарии:
        - Максимальное количество символов в комментарии - 500.
        - Количество комментариев под постом не ограничено.
    - Личные сообщения:
        - Максимальное количество символов в одном сообщении - 500.
    - Подписки:
        - Количество подписок не ограничено.

- Ожидается, что пользователь будет
    - В день
        - Просматривать 100 постов.
        - Просматривать информацию о 5-ти аккаунтах.
        - Оставлять 30 оценок.
        - Оставлять 10 комментариев.
        - Отправлять 80 личных текстовых сообщений и 20 фото.
        - Осущетсвлять поиск 5-ти мест.
    - В неделю
        - Публиковать 2 поста.
        - Подписываться на 1 человека.

- Данные храним всегда.

## Расчёты
### Посты
Фотографии в расчётах не учитываем, будем их хранить отдельно.

1. Пост: ID(8B) + описание(2000\*2B=4КB) + дата(8B) + локация(140B) + ссылки на фото(100\*2B*10=2КБ) = 6KB. 
    - RPS = 10 000 000 * 0,29 / 86400 = 34.
    - Трафик в секунду = 34 * 6KB = 204KB/s.
    - Трафик в день = 204KB/s * 86400 = 17GB.

2. Комментарий: ID поста(8B) + ID пользователя(8B) + текст(500*2B=1KB) + дата(8B) = 1КB.
    - RPS = 10 000 000 * 10 / 86400 = 1158.
    - Трафик в секунду = 1158 * 1KB = 1158KB/s.
    - Трафик в день = 1158KB/s * 86400 = 100GB.

3. Оценка: ID поста(8B) + ID пользователя(8B) = 16B.
    - RPS = 10 000 000 * 30 / 86400 = 3473.
    - Трафик в секунду = 3473 * 16B = 56KB/s.
    - Трафик в день = 56KB/s * 86400 = 5GB.

Общий объём данных в год: (17GB + 100GB + 5GB) * 365 = 44TB

Необходимое количество дисков (HDD по 6TB) на 1 год: 44TB / 6 = 8